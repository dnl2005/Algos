–ó–∞–¥–∞—á–∞ –ª–µ–≥–∫–∞—è, —Ä–µ—à–∞–µ—Ç—Å—è –±–µ–∑ GPT. 2 —Ü–∏–∫–ª–∞ –∏ –ø–∞—Ä—É —É—Å–ª–æ–≤–∏–π.

---

```
using System; 
```

üìå –ü–æ–¥–∫–ª—é—á–∞–µ–º –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ –∏–º—ë–Ω `System`, —á—Ç–æ–±—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –∫–ª–∞—Å—Å—ã C# (`Console`, `ArgumentException` –∏ —Ç.–¥.).

---

```
public class MaxPairSumBruteForce
```
---
```
public static (int sum, int i, int j)? MaxPairSum(int[] arr, int M, int D)
```

üìå –ú–µ—Ç–æ–¥ **–≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç nullable-–∫–æ—Ä—Ç–µ–∂**:

* `(int sum, int i, int j)` ‚Äî –∫–æ—Ä—Ç–µ–∂ –∏–∑ —Ç—Ä—ë—Ö —Ü–µ–ª—ã—Ö —á–∏—Å–µ–ª: —Å—É–º–º–∞ –∏ –¥–≤–∞ –∏–Ω–¥–µ–∫—Å–∞.
* `?` ‚Äî –∑–Ω–∞—á–∏—Ç, —á—Ç–æ –º–µ—Ç–æ–¥ –º–æ–∂–µ—Ç –≤–µ—Ä–Ω—É—Ç—å `null`, –µ—Å–ª–∏ –ø–æ–¥—Ö–æ–¥—è—â–µ–π –ø–∞—Ä—ã –Ω–µ –Ω–∞—à–ª–æ—Å—å.

–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –º–µ—Ç–æ–¥–∞:

* `arr` ‚Äî –º–∞—Å—Å–∏–≤ —á–∏—Å–µ–ª,
* `M` ‚Äî –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ —Å—É–º–º—ã (—Å—É–º–º–∞ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –±–æ–ª—å—à–µ `M`),
* `D` ‚Äî –¥–µ–ª–∏—Ç–µ–ª—å (—Å—É–º–º–∞ –¥–æ–ª–∂–Ω–∞ –¥–µ–ª–∏—Ç—å—Å—è –Ω–∞ `D` –±–µ–∑ –æ—Å—Ç–∞—Ç–∫–∞).

---

```
if (D <= 1)
    throw new ArgumentException("D must be > 1");
```

üìå –ü—Ä–æ–≤–µ—Ä—è–µ–º –≤—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ.

* –î–µ–ª–∏—Ç–µ–ª—å `D` –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –±–æ–ª—å—à–µ 1, –∏–Ω–∞—á–µ —É—Å–ª–æ–≤–∏–µ –∑–∞–¥–∞—á–∏ —Ç–µ—Ä—è–µ—Ç —Å–º—ã—Å–ª.
* –ï—Å–ª–∏ `D <= 1`, –≤—ã–±—Ä–∞—Å—ã–≤–∞–µ–º –∏—Å–∫–ª—é—á–µ–Ω–∏–µ —Å –ø–æ—è—Å–Ω–µ–Ω–∏–µ–º.

---

```
if (arr.Length < 2)
    return null;
```

üìå –ï—Å–ª–∏ –≤ –º–∞—Å—Å–∏–≤–µ –º–µ–Ω—å—à–µ –¥–≤—É—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤, –ø–∞—Ä–∞ –≤ –ø—Ä–∏–Ω—Ü–∏–ø–µ –Ω–µ–≤–æ–∑–º–æ–∂–Ω–∞ ‚Üí —Å—Ä–∞–∑—É –≤–æ–∑–≤—Ä–∞—â–∞–µ–º `null`.

---

```
int? bestSum = null;
(int i, int j) bestPair = (-1, -1);
```

üìå –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö:

* `bestSum` ‚Äî —Ö—Ä–∞–Ω–∏—Ç –º–∞–∫—Å–∏–º–∞–ª—å–Ω—É—é –Ω–∞–π–¥–µ–Ω–Ω—É—é —Å—É–º–º—É (nullable, —á—Ç–æ–±—ã —É–¥–æ–±–Ω–æ –ø—Ä–æ–≤–µ—Ä—è—Ç—å: "–Ω–∞—à–ª–∏ –ª–∏ —Ö–æ—Ç—å –æ–¥–Ω—É –ø–∞—Ä—É?").
* `bestPair` ‚Äî —Ö—Ä–∞–Ω–∏—Ç –∏–Ω–¥–µ–∫—Å—ã —ç–ª–µ–º–µ–Ω—Ç–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –¥–∞–ª–∏ —ç—Ç—É —Å—É–º–º—É (–ø–æ–∫–∞ `-1, -1`, —Ç–æ –µ—Å—Ç—å "–Ω–µ –Ω–∞–π–¥–µ–Ω–æ").

---

```
for (int i = 0; i < arr.Length; i++)
{
    for (int j = i + 1; j < arr.Length; j++)
    {
        int sum = arr[i] + arr[j];
```

üìå –î–≤–∞ –≤–ª–æ–∂–µ–Ω–Ω—ã—Ö —Ü–∏–∫–ª–∞ –ø–µ—Ä–µ–±–∏—Ä–∞—é—Ç **–≤—Å–µ –≤–æ–∑–º–æ–∂–Ω—ã–µ –ø–∞—Ä—ã —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –º–∞—Å—Å–∏–≤–∞**:

* –≤–Ω–µ—à–Ω–∏–π —Ü–∏–∫–ª –±–µ—Ä—ë—Ç –ø–µ—Ä–≤—ã–π —ç–ª–µ–º–µ–Ω—Ç (`i`),
* –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π —Ü–∏–∫–ª –±–µ—Ä—ë—Ç –≤—Ç–æ—Ä–æ–π —ç–ª–µ–º–µ–Ω—Ç (`j`), –Ω–∞—á–∏–Ω–∞—è —Å `i + 1`,
  —á—Ç–æ–±—ã –Ω–µ —Å—Ä–∞–≤–Ω–∏–≤–∞—Ç—å —ç–ª–µ–º–µ–Ω—Ç —Å —Å–∞–º–∏–º —Å–æ–±–æ–π –∏ –Ω–µ –ø–æ–≤—Ç–æ—Ä—è—Ç—å –æ–¥–Ω—É –∏ —Ç—É –∂–µ –ø–∞—Ä—É –≤ –¥—Ä—É–≥–æ–º –ø–æ—Ä—è–¥–∫–µ.

`sum` ‚Äî —Å—É–º–º–∞ —Ç–µ–∫—É—â–µ–π –ø–∞—Ä—ã.

---

```
if (sum > M && sum % D == 0)
{
    if (bestSum == null || sum > bestSum)
    {
        bestSum = sum;
        bestPair = (i, j);
    }
}
```

üìå –ü—Ä–æ–≤–µ—Ä—è–µ–º —É—Å–ª–æ–≤–∏—è –∑–∞–¥–∞—á–∏:

1. `sum > M` ‚Äî —Å—É–º–º–∞ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –±–æ–ª—å—à–µ –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–π –≥—Ä–∞–Ω–∏—Ü—ã,
2. `sum % D == 0` ‚Äî —Å—É–º–º–∞ –¥–æ–ª–∂–Ω–∞ –¥–µ–ª–∏—Ç—å—Å—è –Ω–∞ `D`.

–ï—Å–ª–∏ —É—Å–ª–æ–≤–∏—è –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è:

* –µ—Å–ª–∏ —ç—Ç–æ –ø–µ—Ä–≤–∞—è –ø–æ–¥—Ö–æ–¥—è—â–∞—è —Å—É–º–º–∞ (`bestSum == null`) **–∏–ª–∏** —Å—É–º–º–∞ –±–æ–ª—å—à–µ —Ç–µ–∫—É—â–µ–≥–æ —Ä–µ–∫–æ—Ä–¥–∞ (`sum > bestSum`),
  —Ç–æ –æ–±–Ω–æ–≤–ª—è–µ–º `bestSum` –∏ —Å–æ—Ö—Ä–∞–Ω—è–µ–º –∏–Ω–¥–µ–∫—Å—ã –ø–∞—Ä—ã.

---

```
if (bestSum == null)
    return null;
```

üìå –ï—Å–ª–∏ –ø–æ—Å–ª–µ –≤—Å–µ—Ö –ø–µ—Ä–µ–±–æ—Ä–æ–≤ `bestSum` —Ç–∞–∫ –∏ –æ—Å—Ç–∞–ª–∞—Å—å `null` ‚Äî –∑–Ω–∞—á–∏—Ç, –Ω–∏ –æ–¥–Ω–æ–π –ø–æ–¥—Ö–æ–¥—è—â–µ–π –ø–∞—Ä—ã –Ω–µ –Ω–∞—à–ª–æ—Å—å ‚Üí –≤–æ–∑–≤—Ä–∞—â–∞–µ–º `null`.

---

```
return (bestSum.Value, bestPair.i, bestPair.j);
```

üìå –í–æ–∑–≤—Ä–∞—â–∞–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤ –≤–∏–¥–µ –∫–æ—Ä—Ç–µ–∂–∞:

* —Å—É–º–º–∞,
* –∏–Ω–¥–µ–∫—Å –ø–µ—Ä–≤–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞,
* –∏–Ω–¥–µ–∫—Å –≤—Ç–æ—Ä–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞.

---

```
public static void Main()
```

üìå –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞ –≤ –ø—Ä–æ–≥—Ä–∞–º–º—É. –ó–¥–µ—Å—å –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ–º —Ä–∞–±–æ—Ç—É –º–µ—Ç–æ–¥–∞.

---

```
int[] arr = { 1, 2, 3, 4, 5, 6 };
int M = 7;
int D = 3;
```

üìå –ò—Å—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ:

* –º–∞—Å—Å–∏–≤ —á–∏—Å–µ–ª,
* –º–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –≥—Ä–∞–Ω–∏—Ü–∞ —Å—É–º–º—ã `M = 7`,
* –¥–µ–ª–∏—Ç–µ–ª—å `D = 3`.

---

```
var result = MaxPairSum(arr, M, D);
```

üìå –í—ã–∑—ã–≤–∞–µ–º –º–µ—Ç–æ–¥ –∏ —Å–æ—Ö—Ä–∞–Ω—è–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç (–∫–æ—Ä—Ç–µ–∂ –∏–ª–∏ `null`).

---

```
if (result != null)
{
    Console.WriteLine($"–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —Å—É–º–º–∞: {result.Value.sum}");
    Console.WriteLine($"–ò–Ω–¥–µ–∫—Å—ã —ç–ª–µ–º–µ–Ω—Ç–æ–≤: {result.Value.i}, {result.Value.j}");
}
else
{
    Console.WriteLine("–ü–æ–¥—Ö–æ–¥—è—â–µ–π –ø–∞—Ä—ã –Ω–µ –Ω–∞–π–¥–µ–Ω–æ.");
}
```

üìå –ü—Ä–æ–≤–µ—Ä—è–µ–º:

* –µ—Å–ª–∏ `result != null`, –∑–Ω–∞—á–∏—Ç, –ø–∞—Ä–∞ –Ω–∞–π–¥–µ–Ω–∞ ‚Üí –≤—ã–≤–æ–¥–∏–º —Å—É–º–º—É –∏ –∏–Ω–¥–µ–∫—Å—ã,
* –∏–Ω–∞—á–µ –≤—ã–≤–æ–¥–∏–º —Å–æ–æ–±—â–µ–Ω–∏–µ, —á—Ç–æ –ø–æ–¥—Ö–æ–¥—è—â–µ–π –ø–∞—Ä—ã –Ω–µ—Ç.

–û–±—Ä–∞—Ç–∏ –≤–Ω–∏–º–∞–Ω–∏–µ: `result` ‚Äî —ç—Ç–æ nullable-–∫–æ—Ä—Ç–µ–∂, –ø–æ—ç—Ç–æ–º—É –¥–æ—Å—Ç—É–ø –∫ –ø–æ–ª—è–º –∏–¥—ë—Ç —á–µ—Ä–µ–∑ `result.Value.sum`, `result.Value.i`, `result.Value.j`.

---

### üìå –ü—Ä–∏–º–µ—Ä —Ä–∞–±–æ—Ç—ã –ø—Ä–æ–≥—Ä–∞–º–º—ã

–ú–∞—Å—Å–∏–≤ `{ 1, 2, 3, 4, 5, 6 }`, `M = 7`, `D = 3`:

* –ü–∞—Ä—ã, –∫–æ—Ç–æ—Ä—ã–µ –ø–æ–¥—Ö–æ–¥—è—Ç: `(3, 6) = 9`, `(6, 3) = 9` (–æ–¥–Ω–æ –∏ —Ç–æ –∂–µ),
* –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —Å—É–º–º–∞ = 9, –∏–Ω–¥–µ–∫—Å—ã = `(2, 5)`.

–í—ã–≤–æ–¥ –±—É–¥–µ—Ç:

```
–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —Å—É–º–º–∞: 9
–ò–Ω–¥–µ–∫—Å—ã —ç–ª–µ–º–µ–Ω—Ç–æ–≤: 2, 5
```

